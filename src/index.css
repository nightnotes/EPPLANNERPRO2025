
@tailwind base;
@tailwind components;
@tailwind utilities;

:root { --radius: 16px; }

.card { @apply bg-nn_card/60 backdrop-blur-md border border-nn_border/70 rounded-2xl shadow-nn; }
.btn-primary { @apply inline-flex items-center justify-center px-5 py-2.5 rounded-xl bg-nn_primary hover:bg-nn_primary_hover transition font-semibold; }
.input { @apply w-full rounded-xl bg-nn_bg2/60 border border-nn_border px-4 py-2 outline-none focus:ring-2 ring-nn_primary/40; }
.tab { @apply px-4 py-2 font-semibold rounded-xl border border-transparent hover:bg-nn_bg2/60; }
.tab-active { @apply bg-nn_primary text-white hover:bg-nn_primary; }

/* Pro vibe */
h1 { @apply font-semibold tracking-tight; }
.table-head { @apply bg-nn_bg2/70; }
.fade-in { animation: fade .35s ease both; }
@keyframes fade { from { opacity:0; transform: translateY(4px) } to { opacity:1; transform: translateY(0) } }
progress::-webkit-progress-bar { background: theme(colors.nn_bg2/50); border-radius: 9999px; }
progress::-webkit-progress-value { background: theme(colors.nn_primary); border-radius: 9999px; }
progress { width: 220px; height: 10px; border-radius: 9999px; }


/* Layout polish */
.section { @apply max-w-5xl mx-auto px-4; }
.hero { @apply pt-8 pb-2; }
.hero h1 { @apply text-3xl sm:text-4xl font-semibold; }
.subtle { @apply text-nn_muted; }

.card-lg { @apply card p-6 sm:p-8; }
.row { @apply grid grid-cols-1 sm:grid-cols-6 gap-4 items-center; }
.badge { @apply inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-nn_bg2/60 border border-nn_border text-sm; }

/* Glow accent */
.glow { box-shadow: 0 0 0px rgba(110,99,255,0.0), 0 20px 50px rgba(110,99,255,0.15); }


/* --- Animated night sky --- */
#stars-layer { position: fixed; inset: 0; pointer-events:none; z-index: 0; }
.stars { position:absolute; inset:0; background-repeat:repeat; background-size: 200px 200px; opacity:.35; }
.stars-1 { animation: twinkle 8s linear infinite; background-image: radial-gradient(2px 2px at 20px 30px, #fff 80%, transparent 81%), radial-gradient(1px 1px at 100px 120px, #fff 80%, transparent 81%), radial-gradient(1.5px 1.5px at 150px 80px, #fff 80%, transparent 81%); }
.stars-2 { animation: twinkle 10s linear infinite reverse; opacity:.25; background-image: radial-gradient(1.5px 1.5px at 60px 90px, #fff 80%, transparent 81%), radial-gradient(1px 1px at 180px 160px, #fff 80%, transparent 81%), radial-gradient(1.5px 1.5px at 120px 30px, #fff 80%, transparent 81%); }
.stars-3 { animation: twinkle 12s linear infinite; opacity:.2; background-image: radial-gradient(1px 1px at 90px 150px, #fff 80%, transparent 81%), radial-gradient(1px 1px at 30px 170px, #fff 80%, transparent 81%), radial-gradient(1.5px 1.5px at 170px 40px, #fff 80%, transparent 81%); }
@keyframes twinkle { 0%{opacity:.2; transform:translateY(0)} 50%{opacity:.5} 100%{opacity:.2; transform:translateY(-10px)} }

.shooting { position:absolute; left:-10vw; top:15vh; width:30vw; height:2px; background: linear-gradient(90deg, rgba(255,255,255,.7), rgba(255,255,255,0)); filter: blur(1px); opacity:0; }
.shooting-1{ animation: shoot 18s linear infinite; }
.shooting-2{ animation: shoot 22s linear infinite 8s; top:35vh; }
.shooting-3{ animation: shoot 26s linear infinite 15s; top:60vh; }
@keyframes shoot { 0%{opacity:0; transform:translateX(0)} 10%{opacity:.6} 40%{opacity:0.0} 100%{transform:translateX(120vw); opacity:0} }

/* Ensure app sits above stars */
#root { position: relative; z-index: 1; }

/* Illustration card */
.illustration-card { background: url('/bg-night.svg'), linear-gradient(to bottom, rgba(15,20,48,.6), rgba(26,31,68,.6)); background-size: cover; background-position: center; }
.illustration-card img { filter: drop-shadow(0 12px 30px rgba(0,0,0,.45)); }

/* Centering tweaks for login hero */
.login-hero { min-height: calc(100vh - 40px); display:flex; align-items:center; }


/* ---- Cinematic starfield INSIDE the illustration-card ---- */
.illustration-card { position: relative; overflow: hidden; }
.illustration-card .layer { position:absolute; inset:0; pointer-events:none; }

/* Parallax factors via CSS variables set from mouse/touch */
.illustration-card { --px: 0; --py: 0; }
.parallax-1 { transform: translate(calc(var(--px) * 0.008), calc(var(--py) * 0.008)); }
.parallax-2 { transform: translate(calc(var(--px) * 0.016), calc(var(--py) * 0.016)); }
.parallax-3 { transform: translate(calc(var(--px) * 0.024), calc(var(--py) * 0.024)); }

/* Star textures (denser but subtle) */
.stars-a { background-image:
  radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.9) 60%, transparent 61%),
  radial-gradient(1px 1px at 30% 70%, rgba(255,255,255,.8) 60%, transparent 61%),
  radial-gradient(1.5px 1.5px at 60% 30%, rgba(255,255,255,.7) 60%, transparent 61%),
  radial-gradient(1px 1px at 80% 60%, rgba(255,255,255,.9) 60%, transparent 61%),
  radial-gradient(1px 1px at 50% 50%, rgba(255,255,255,.8) 60%, transparent 61%);
  background-size: 300px 300px;
  opacity:.35;
  animation: twinkle-soft 10s ease-in-out infinite;
}
.stars-b { background-image:
  radial-gradient(1px 1px at 25% 30%, rgba(255,255,255,.9) 60%, transparent 61%),
  radial-gradient(1.5px 1.5px at 65% 80%, rgba(255,255,255,.8) 60%, transparent 61%),
  radial-gradient(1px 1px at 90% 40%, rgba(255,255,255,.7) 60%, transparent 61%);
  background-size: 360px 360px;
  opacity:.28;
  animation: twinkle-soft 14s ease-in-out infinite reverse;
}
.stars-c { background-image:
  radial-gradient(1.5px 1.5px at 15% 60%, rgba(255,255,255,1) 60%, transparent 61%),
  radial-gradient(2px 2px at 75% 25%, rgba(255,255,255,.9) 60%, transparent 61%);
  background-size: 420px 420px;
  opacity:.22;
  animation: twinkle-soft 18s ease-in-out infinite;
}
@keyframes twinkle-soft { 0%,100%{opacity:.18} 50%{opacity:.46} }

/* Mist & glow layers for depth */
.mist-1 { background: radial-gradient(60% 40% at 70% 20%, rgba(120,140,255,.10), transparent 60%); filter: blur(12px); }
.mist-2 { background: radial-gradient(50% 30% at 40% 70%, rgba(110,150,255,.08), transparent 60%); filter: blur(16px); }
.moon-glow { background: radial-gradient(20% 20% at 85% 15%, rgba(255,255,255,.10), transparent 60%); filter: blur(6px); }

/* Shooting stars (inside card only) */
.shoot { position:absolute; height:2px; width:28%; left:-35%; top:20%; opacity:0;
         background: linear-gradient(90deg, rgba(255,255,255,.85), rgba(255,255,255,0));
         filter: drop-shadow(0 0 6px rgba(255,255,255,.5)); }
.shoot.glow { box-shadow: 0 0 20px rgba(255,255,255,.15); }
@keyframes dash { 0% { transform: translateX(0); opacity:0; }
                  10% { opacity:.7; }
                  40% { opacity:.15; }
                  100% { transform: translateX(180%); opacity:0; } }
.shoot-1 { top:22%; animation: dash 18s linear infinite 4s; }
.shoot-2 { top:48%; animation: dash 24s linear infinite 12s; }
.shoot-3 { top:68%; animation: dash 28s linear infinite 20s; }

/* Card sizing for the visual on login */
.login-visual { height: 460px; }
@media (min-width: 1024px) { .login-visual { height: 520px; } }


/* --- High quality background for the illustration card --- */
.illustration-card {
  background-image:
    url('/night-noise.png'),
    url('/bg-night.svg');
  background-size: 600px 600px, cover;
  background-position: center, center;
  background-repeat: repeat, no-repeat;
  -webkit-mask-image: radial-gradient(circle at 50% 50%, rgba(0,0,0,1) 75%, rgba(0,0,0,0.6) 100%);
  mask-image: radial-gradient(circle at 50% 50%, rgba(0,0,0,1) 75%, rgba(0,0,0,0.6) 100%);
}

/* Softer star layers to remove pixel look */
.stars-a, .stars-b, .stars-c { background-size: 480px 480px; filter: blur(0.2px); }
@keyframes twinkle-soft { 0%{opacity:.20} 50%{opacity:.42} 100%{opacity:.20} }
.shoot { filter: blur(0.6px) drop-shadow(0 0 6px rgba(255,255,255,.35)); }


/* Realistic photo background behind the Night Notes logo */
.illustration-card {
  background-image:
    url('/night-real.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}


/* ---- Global animated gradient background (single loop) ---- */
body {
  background: radial-gradient(1200px 800px at 10% 0%, #12183b 0%, #0f1430 45%, #0b0f24 100%);
  background-attachment: fixed;
  animation: bgShift 28s ease-in-out infinite alternate;
}
@keyframes bgShift {
  0%   { background-position: 10% 0%; }
  50%  { background-position: 50% 30%; }
  100% { background-position: 80% 0%; }
}


/* Circular toggle buttons ("bolletjes") */
.round-toggle {
  @apply inline-flex items-center justify-center px-4 py-2 rounded-full border border-nn_border bg-nn_bg2/60;
  position: relative; font-weight: 600; transition: transform .15s ease, background-color .2s;
}
.round-toggle::before {
  content: ""; width: 10px; height: 10px; border-radius: 9999px; display: inline-block; margin-right: 10px;
  background: #ff4d4d; box-shadow: 0 0 0 0 rgba(255,77,77,.0);
}
.round-toggle.on { @apply bg-nn_primary/20 border-nn_primary; }
.round-toggle.on::before { background: #22c55e; box-shadow: 0 0 12px 2px rgba(34,197,94,.35); }
.round-toggle:disabled { opacity:.6; cursor:not-allowed; }
.round-toggle:active { transform: translateY(1px); }


/* ===== Global cinematic night sky (behind everything) ===== */
#sky-bg { position: fixed; inset: 0; z-index: 0; pointer-events: none; overflow: hidden; }
.sky { position:absolute; inset:0; }
#root { position: relative; z-index: 1; }

/* Three parallax star layers with soft twinkle */
.stars { background-repeat: repeat; opacity: .28; }
.s1 { background-image:
  radial-gradient(1px 1px at 10% 20%, #fff 70%, transparent 71%),
  radial-gradient(1px 1px at 35% 70%, #fff 70%, transparent 71%),
  radial-gradient(1.5px 1.5px at 60% 30%, #fff 70%, transparent 71%);
  background-size: 320px 320px;
  animation: twk 12s ease-in-out infinite;
}
.s2 { background-image:
  radial-gradient(1px 1px at 25% 30%, #fff 70%, transparent 71%),
  radial-gradient(1px 1px at 70% 60%, #fff 70%, transparent 71%),
  radial-gradient(1.5px 1.5px at 85% 25%, #fff 70%, transparent 71%);
  background-size: 380px 380px;
  opacity:.22; animation: twk 16s ease-in-out infinite reverse;
}
.s3 { background-image:
  radial-gradient(1px 1px at 15% 55%, #fff 70%, transparent 71%),
  radial-gradient(2px 2px at 78% 42%, #fff 70%, transparent 71%);
  background-size: 460px 460px;
  opacity:.18; animation: twk 20s ease-in-out infinite;
}
@keyframes twk { 0%,100%{opacity:.18} 50%{opacity:.42} }

/* Diagonal shooting stars (top-right to bottom-left), with blur */
.meteor { width: 40vw; height: 2px;
  background: linear-gradient(90deg, rgba(255,255,255,.85), rgba(255,255,255,0));
  filter: blur(.8px) drop-shadow(0 0 6px rgba(255,255,255,.35));
  transform: rotate(-20deg); opacity:0;
}
.m1 { top: 10vh; left: -30vw; animation: fly 22s linear infinite 3s; }
.m2 { top: 35vh; left: -35vw; animation: fly 28s linear infinite 11s; }
.m3 { top: 60vh; left: -40vw; animation: fly 32s linear infinite 18s; }
@keyframes fly {
  0% { transform: translate(0,0) rotate(-20deg); opacity: 0; }
  5% { opacity: .7; }
  35% { opacity: .15; }
  100% { transform: translate(120vw, -35vh) rotate(-20deg); opacity: 0; }
}

/* Global gradient backdrop (single loop) */
body {
  background: radial-gradient(1200px 800px at 10% 0%, #12183b 0%, #0f1430 45%, #0b0f24 100%);
  background-attachment: fixed;
  animation: bgShift 28s ease-in-out infinite alternate;
}
@keyframes bgShift {
  0%   { background-position: 10% 0%; }
  50%  { background-position: 50% 30%; }
  100% { background-position: 80% 0%; }
}
